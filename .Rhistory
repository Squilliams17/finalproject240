demo()
start()
help.start()
q()
library(tidyverse)
getwd()
source("demo.Rmg")
ls
file.edit("demo.Rmd")
sqrt(log(2025, 10))
sqrt(log(2025, 10))
2025 %% 2
2025 %% 3
2025 %% 4
2025 %% 5
2025 %% 6
2025 %% 7
2025 %% 8
2025 %% 9
x <- c(3.63, 3.02, 3.82, 3.42, 3.59)
y <- c(53.1, 49.7, 48.4, 54.2, 54.9)
cor(x, y)
power(0, 0)
0^0
cor(x,y)
z <- c(1,2,3)
cor(x,z)
log(-2)
log(-2)
10^10^10
log(-2)
10^10^10
-1/0
(( 1 < 2) & (10^2 < 2)) | (log(0) == 1)
(( 1 < 2) & (10^2 < 2)) | (log(0) == 1)
log(0)
(( 1 < 2) & (10^2 < 2)) | (log(1) == 0)
(( 1 < 2) & (10^2 < 2)) | (log(1) == 0)
((1 > 2) | (2 < 3)) & (10 %% 2 == 0)
(( 1 < 2) & (10^2 < 2)) | (log(1) == 0)
((1 > 2) | (2 < 3)) & (11 %% 2 == 0)
install.packages("caracas")
library("caracas")
library("caracas")
A <- as_sym("[[a, 0], [b,1]]")
install_sympy()
library("caracas")
A <- as_sym("[[a, 0], [b,1]]")
A
reciprocal_matrix(A)
eigenval(A)
data <- c(10, 8.5, 8.5, 8, 9, 8.5, 8, 7.5, 7.5, 7, 6.5, 7.5, 6.5, 6, 6.5, 7, 7.5, 7, 6.5, 6.5, 7.5, 6.5, 6.5, 6, 6, 6, 7, 6.5, 6, 7, 7, 6.5, 6, 6.5, 6, 5.5, 6.5, 6.5, 6.5, 6)
data
install_sympy()
library("caracas")
A <- as_sym("[[a, 0], [b,1]]")
reticulate::py_config()
caracas::install_sympy()
py_require(c("sympy"))
mean(data)
median(data)
data <- c(10, 8.5, 8.5, 8, 9, 8.5, 8, 7.5, 7.5, 7, 6.5, 7.5, 6.5, 6, 6.5, 7, 7.5, 7, 6.5, 6.5, 7.5, 6.5, 6.5, 6, 6, 6, 7, 6.5, 6, 7, 7, 6.5, 6, 6.5, 6, 5.5, 6.5, 6.5, 6.5, 6)
mean(data)
median(data)
sd(data)
mean(data)
median(data)
sd(data)
min(data)
max(data)
hist(data)
boxplot(data)
hist(data)
prop.test()
# no written response needed, simply knit the document and
# check the output, this chunk should print:
#  1. the R version currently installed,
#  2. the tidyverse import messages, and
#  3. the file folder structure of your STAT240 class folders
# (remember to set your working directory if running this in console!)
sessionInfo()
library(tidyverse)
list.dirs("../../",recursive = TRUE)
site1 <- c(37.54,37.01,36.71,37.03,37.32,37.01,37.03,37.7,37.36,36.75,37.45,38.85)
site2 <- c(40.17,40.8,39.76,39.7,40.79,40.44,39.79,39.38)
site3 <- c(39.04,39.21,39.05,38.24,38.53,38.71,38.89,38.66,38.51,40.58)
length(site1)
length(site2)
length(site3)
#sample size
length(site1)
length(site2)
length(site3)
#mean
mean(site1)
mean(site2)
mean(site3)
#median
median(site1)
median(site2)
median(site3)
#min and max
min(site1)
max(site1)
min(site2)
max(site2)
min(site3)
max(site3)
#sample size
length(site1)
length(site2)
length(site3)
#mean
mean(site1)
mean(site2)
mean(site3)
#median
median(site1)
median(site2)
median(site3)
#min and max
min(site1)
max(site1)
min(site2)
max(site2)
min(site3)
max(site3)
#90th percentile
quantile(site1, probs=0.9)
boxplot(site1, site2, site3)
prop.test()
help()
help(prop.test)
x <- c(4,7,4)
n <- c(10,10,10)
prop.test(x,n)
x <- c(4,7,4)
n <- c(10,10,10)
prop.test(x,n, p=0.5)
n <- c(10,10,10)
x <- c(4,7,4)
n <- c(10,10,10)
p <- c(0.5,0.5,0.5)
prop.test(x,n, p=0.5)
x <- c(4,7,4)
n <- c(10,10,10)
p <- c(0.5,0.5,0.5)
prop.test(x,n, p=p)
x <- c(4,7,4)
n <- c(10,10,10)
prop.test(x,n)
knitr::opts_chunk$set(echo=TRUE,fig.width=5,fig.height=4,fig.align="center")
###
### REMEMBER TO:  1. set your working directory
###               2. import necessary packages (run line below)
library(tidyverse)
mult <- c(1,2)
a * mult
a <- c(1, 2, 8, 17, 24)
mult <- c(1,2)
a * mult
a & mult
temp2 <- c(0,1)
a & temp2
a[2]
a[c(3,5)]
correlation_table <- tibble(
obseration_x = c("Above-the-break 3-point FG%","Left-corner 3 FG%","Right-corner 3 FG%","2-point FG made","3-point FG made","2-point FG made","2-point FG made","3-point FG made","2-pt minus 3-pt FGA","2-point FG%"),
observation_y = c("WIN%","WIN%","WIN%","WIN%","WIN%","3-point FG made","LOSS%","LOSS%","WIN%","WIN%"),
r = c(0.52, 0.47, 0.44, 0.048, 0.006, -0.124, -0.048, -0.006, 0.28, 0.28),
p = c(0.038, 0.067, 0.088, 0.65, 0.95, 0.23, 0.65, 0.95, 0.34, 0.31)
)
library(tidyverse)
library(dplyr)
library(readr)
library(ggplot2)
library(ggrepel)
library(plotly)
library(crosstalk)
library(htmltools)
library(car)
setwd("~/data/STAT240/finalproject240")
correlation_table <- tibble(
obseration_x = c("Above-the-break 3-point FG%","Left-corner 3 FG%","Right-corner 3 FG%","2-point FG made","3-point FG made","2-point FG made","2-point FG made","3-point FG made","2-pt minus 3-pt FGA","2-point FG%"),
observation_y = c("WIN%","WIN%","WIN%","WIN%","WIN%","3-point FG made","LOSS%","LOSS%","WIN%","WIN%"),
r = c(0.52, 0.47, 0.44, 0.048, 0.006, -0.124, -0.048, -0.006, 0.28, 0.28),
p = c(0.038, 0.067, 0.088, 0.65, 0.95, 0.23, 0.65, 0.95, 0.34, 0.31)
)
correlation_table
library(tidyverse)
library(dplyr)
library(readr)
library(ggplot2)
library(ggrepel)
library(plotly)
library(crosstalk)
library(htmltools)
library(car)
library(gt)
install.packages("gt")
library(tidyverse)
library(dplyr)
library(readr)
library(ggplot2)
library(ggrepel)
library(plotly)
library(crosstalk)
library(htmltools)
library(car)
library(gt)
correlation_table <- tibble(
obseration_x = c("Above-the-break 3-point FG%","Left-corner 3 FG%","Right-corner 3 FG%","2-point FG made","3-point FG made","2-point FG made","2-point FG made","3-point FG made","2-pt minus 3-pt FGA","2-point FG%"),
observation_y = c("WIN%","WIN%","WIN%","WIN%","WIN%","3-point FG made","LOSS%","LOSS%","WIN%","WIN%"),
r = c(0.52, 0.47, 0.44, 0.048, 0.006, -0.124, -0.048, -0.006, 0.28, 0.28),
p = c(0.038, 0.067, 0.088, 0.65, 0.95, 0.23, 0.65, 0.95, 0.34, 0.31)
)
correlation_table %>%
gt()
correlation_table <- tibble(
obseration_x = c("Above-the-break 3-point FG%","Left-corner 3 FG%","Right-corner 3 FG%","2-point FG made","3-point FG made","2-point FG made","2-point FG made","3-point FG made","2-pt minus 3-pt FGA","2-point FG%"),
observation_y = c("WIN%","WIN%","WIN%","WIN%","WIN%","3-point FG made","LOSS%","LOSS%","WIN%","WIN%"),
r = c(0.52, 0.47, 0.44, 0.048, 0.006, -0.124, -0.048, -0.006, 0.28, 0.28),
p = c(0.038, 0.067, 0.088, 0.65, 0.95, 0.23, 0.65, 0.95, 0.34, 0.31)
)
knitr::kable(correlation_table)
# Chunk 1: setup
knitr::opts_chunk$set(echo = TRUE)
knitr::opts_chunk$set(warning = FALSE)
# Chunk 2
library(tidyverse)
library(dplyr)
library(readr)
library(ggplot2)
library(ggrepel)
library(plotly)
library(crosstalk)
library(htmltools)
library(car)
# Chunk 3
nba_24_25_playoff_shooting_data <- read_csv("./nba_24-25_playoff_shooting_by_zone.csv")
nba_24_25_playoff_shooting_data
num_teams <- length(unique(nba_24_25_playoff_shooting_data$Team))
num_teams
num_games <- 76
num_games
# Chunk 4
nba_24_25_playoff_team_data <- read_csv("./nba_24-25_playoff_team_statistics.csv")
nba_24_25_playoff_team_data
# Chunk 5
nba_24_25_playoff_shooting_data <- nba_24_25_playoff_shooting_data %>%
mutate(across(
c(`Restricted Area FGM`, `Restricted Area FGA`,
`In The Paint (Non-RA) FGM`, `In The Paint (Non-RA) FGA`,
`Mid-Range FGM`, `Mid-Range FGA`,
`Corner 3 FGM`, `Corner 3 FGA`,
`Above the Break 3. FGM`, `Above the Break 3. FGA`),
~ as.numeric(.)
)) %>%
mutate(
`3 FGM` = `Corner 3 FGM` + `Above the Break 3. FGM`,
`3 FGA` = `Corner 3 FGA` + `Above the Break 3. FGA`,
`3 FG%` = ifelse(`3 FGA` == 0, 0, (`3 FGM` / `3 FGA`) * 100),
`2 FGM` = `Restricted Area FGM` + `In The Paint (Non-RA) FGM` + `Mid-Range FGM`,
`2 FGA` = `Restricted Area FGA` + `In The Paint (Non-RA) FGA` + `Mid-Range FGA`,
`2 FG%` = ifelse(`2 FGA` == 0, 0, (`2 FGM` / `2 FGA`) * 100)
)
nba_summary <- nba_24_25_playoff_shooting_data %>%
group_by(Team) %>%
summarise(
total_3FGA = sum(`3 FGA`),
total_3FGM = sum(`3 FGM`),
total_2FGA = sum(`2 FGA`),
total_2FGM = sum(`2 FGM`),
`2FGA%` = total_2FGM / total_2FGA
) %>%
full_join(
nba_24_25_playoff_team_data %>% select(Team, `WIN%`),
by = "Team"
) %>%
mutate(`3_2_pointDifference` = total_2FGA - total_3FGA)
# Chunk 6
shooting_data_table <- tibble(columns = c("Player", "Restricred Area", "In the Paint (Non-RA)", "Mid-Range", "Left Corner 3", "Right Corner 3", "Corner 3", "Abover the Break 3", "2PT Field Goal", "3PT Field Goal"))
#print(shooting_data_table)
knitr::kable(shooting_data_table)
# Chunk 7
team_zone_avgs <- nba_24_25_playoff_shooting_data %>%
group_by(Team) %>%
summarise(
`Left Corner 3 FG%` = mean(as.numeric(`Left Corner 3. FG%`), na.rm = TRUE),
`Right Corner 3 FG%` = mean(as.numeric(`Right Corner 3. FG%`), na.rm = TRUE),
`Above the Break 3 FG%` = mean(`Above the Break 3. FG%`, na.rm = TRUE)
) %>%
pivot_longer(
cols = c(`Left Corner 3 FG%`, `Right Corner 3 FG%`, `Above the Break 3 FG%`),
names_to = "Zone",
values_to = "FG_Percent"
)
# Chunk 8
team_zone_avgs <- team_zone_avgs %>%
left_join(nba_24_25_playoff_team_data %>% select(Team, `WIN%`), by = "Team")
# Scatter plot with size proportional to WIN%
ggplot(team_zone_avgs, aes(x = Zone, y = FG_Percent, color = Team, size = `WIN%`)) +
geom_point() +
geom_text_repel(aes(label = Team), vjust = -0.5, size = 3, show.legend = FALSE) +
labs(
title = "NBA 2024-2025 Playoff Teams: 3PT FG% by Zone with WIN%",
x = "3-Point Zone",
y = "FG%",
size = "Win %"
) +
theme_minimal() +
theme(axis.text.x = element_text(angle = 45, hjust = 1))
# Chunk 9
# Make sure team averages and WIN% are joined
team_zone_avgs <- nba_24_25_playoff_shooting_data %>%
group_by(Team) %>%
summarise(
Left_Corner_3_FG = mean(as.numeric(`Left Corner 3. FG%`), na.rm = TRUE),
Right_Corner_3_FG = mean(as.numeric(`Right Corner 3. FG%`), na.rm = TRUE),
Above_the_Break_3_FG = mean(`Above the Break 3. FG%`, na.rm = TRUE)
) %>%
left_join(nba_24_25_playoff_team_data %>% select(Team, `WIN%`), by = "Team")
# Correlation tests for each zone
cor_left <- cor.test(team_zone_avgs$Left_Corner_3_FG, team_zone_avgs$`WIN%`)
cor_right <- cor.test(team_zone_avgs$Right_Corner_3_FG, team_zone_avgs$`WIN%`)
cor_above <- cor.test(team_zone_avgs$Above_the_Break_3_FG, team_zone_avgs$`WIN%`)
cor_left
cor_right
cor_above
# Chunk 10
nba_win_perc <- nba_24_25_playoff_team_data %>%
select(Team, `WIN%`)
nba_sum <- nba_24_25_playoff_shooting_data %>%
group_by(Team) %>%
full_join(nba_win_perc, by = "Team") %>%
slice_max(order_by = `3 FGA` + `2 FGA`, n = 6, with_ties = TRUE) %>%
ungroup()
# Chunk 11
#put data into SharedData so that graph can be interactive
nba_shared_data <- SharedData$new(nba_sum, key = ~Team, group = "NBA_Data")
nba_3v2FGM_plot <- nba_shared_data %>%
ggplot(aes(x = `2 FGM`, y = `3 FGM`)) +
geom_point(size = 3, aes(color = `WIN%`, text = paste("Team:", Team, "\nWin %:",`WIN%`, "\nPlayer:", Player))) +
scale_color_gradientn(
colors = c("blue", "dodgerblue","deepskyblue", "white", "orange", "red", "darkred")
) +
geom_vline(xintercept = mean(nba_sum$`2 FGM`), linetype = "dashed", alpha = 0.5) +
geom_hline(yintercept = mean(nba_sum$`3 FGM`), linetype = "dashed", alpha = 0.5) +
labs(
y = "3-Point FG Made", x = "2-Point FG Made", title = "3 vs 2 Point Field Goals Made, By Player in 24-25 Playoffs"
)
interactive <- ggplotly(nba_3v2FGM_plot, tooltip = c("text", "x", "y"))
team_filter <- filter_select(
id = "team_select",
label = "Select Team:",
sharedData = nba_shared_data,
group = ~Team,
allLevels = TRUE
)
browsable(
tagList(
team_filter,
interactive
)
)
# Chunk 12
nba_24_25_playoff_team_data %>%
ggplot(aes(x = `FGM`-`3PM`, y = `3PM`)) +
geom_point(size = 3, aes(color = `WIN%`)) +
scale_color_gradientn(
colors = c("blue", "dodgerblue","deepskyblue", "white", "orange", "red", "darkred")
) +
geom_text_repel(aes(label = Team), vjust = -0.5, size = 3, show.legend = FALSE) +
geom_vline(aes(xintercept = mean(`FGM`-`3PM`)), linetype = "dashed", alpha = 0.5) +
geom_hline(aes(yintercept = mean(`3PM`)), linetype = "dashed", alpha = 0.5) +
labs(
y = "3-Point FG Made", x = "2-Point FG Made", title = "3 vs 2 Point Field Goals Made by Team in 24-25 Playoffs"
)
# Chunk 13
#Looking at the correlation between 2 and 3 point shots
cor_2v3 <- cor.test(nba_sum$`2 FGM`, nba_sum$`3 FGM`)
cor_2vWin <- cor.test(nba_sum$`2 FGM`, nba_sum$`WIN%`)
cor_3vWin <- cor.test(nba_sum$`3 FGM`, nba_sum$`WIN%`)
#Looking at the correlation between 2 and 3 point shots
cor_2v3
#Looking at the correlation between 2 point shots and Winning
cor_2vWin
#Looking at the correlation between 3 point shots and Winning
cor_3vWin
cor_2vLoss <- cor.test(nba_sum$`2 FGM`, 1 - nba_sum$`WIN%`)
cor_3vLoss <- cor.test(nba_sum$`3 FGM`, 1 - nba_sum$`WIN%`)
#Looking at the correlation between 2 point shots and Losing
cor_2vLoss
#Looking at the correlation between 3 point shots and Losing
cor_3vLoss
# Chunk 14
cor_3_2_pointDifference <- cor.test(nba_summary$`WIN%`, nba_summary$`3_2_pointDifference`)
cor_3_2_pointDifference
cor_2FGA_percent_vs_Win  <- cor.test(nba_summary$`WIN%`, nba_summary$`2FGA%`)
cor_2FGA_percent_vs_Win
# Chunk 15
regression_data <- nba_summary %>%
mutate(z_2p = scale(total_2FGM),
z_3p = scale(total_3FGM)
) %>%
select(Team, z_2p, z_3p, `WIN%`)
regression_data
lm_team <- lm(`WIN%` ~ z_2p + z_3p, data = regression_data)
x<-linearHypothesis(lm_team, "z_2p = z_3p")
p_value <- x$`Pr(>F)`[2]
# Chunk 16: latex_eq
coef_table <- summary(lm_team)$coefficients %>%
as.data.frame()
coef_table$Term <- rownames(coef_table)
coef_table$Term[coef_table$Term == "(Intercept)"] <- "Intercept"
coef_table$Term[coef_table$Term == "z_2p"] <- "2FGM (z-score)"
coef_table$Term[coef_table$Term == "z_3p"] <- "3FGM (z-score)"
coef_table <- coef_table[coef_table$Term %in% c("Intercept", "2FGM (z-score)", "3FGM (z-score)"), ]
rownames(coef_table) <- coef_table$Term
beta0 <- coef_table["Intercept", "Estimate"]
beta1 <- coef_table["2FGM (z-score)", "Estimate"]
beta2 <- coef_table["3FGM (z-score)", "Estimate"]
latex_eq <- paste0(
"\\hat{Win\\%} = ",
round(beta0, 3),
ifelse(beta1 >= 0, " + ", " - "), abs(round(beta1, 3)), " \\cdot \\text{2FGM (z-score)}",
ifelse(beta2 >= 0, " + ", " - "), abs(round(beta2, 3)), " \\cdot \\text{3FGM (z-score)}",
" + \\varepsilon"
)
cat(paste0("$$", latex_eq, "$$"))
# Chunk 17
correlation_table <- tibble(
obseration_x = c("Above-the-break 3-point FG%","Left-corner 3 FG%","Right-corner 3 FG%","2-point FG made","3-point FG made","2-point FG made","2-point FG made","3-point FG made","2-pt minus 3-pt FGA","2-point FG%"),
observation_y = c("WIN%","WIN%","WIN%","WIN%","WIN%","3-point FG made","LOSS%","LOSS%","WIN%","WIN%"),
r = c(0.52, 0.47, 0.44, 0.048, 0.006, -0.124, -0.048, -0.006, 0.28, 0.28),
p = c(0.038, 0.067, 0.088, 0.65, 0.95, 0.23, 0.65, 0.95, 0.34, 0.31)
)
knitr::kable(correlation_table)
cor.test(nba_24_25_playoff_team_data$`3PM`, nba_24_25_playoff_team_data$`WIN%`)
